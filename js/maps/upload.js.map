{"version":3,"sources":["upload.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","db","firebase","initializeApp","database","dataInput","document","getElementById","addEventListener","keyCode","which","dataStr","value","vex","dialog","prompt","message","callback","data","JSON","parse","dataRef","ref","once","snapshot","exists","alert","set","then","done","catch","err","console","log","error"],"mappings":"CAAA,SAAUA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATC,SAAqBA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,KAAK,MAAMK,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEX,EAAEG,IAAIS,YAAYb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAkD,IAAI,IAA1CL,EAAkB,mBAATD,SAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAAvb,EAA4ba,GAAG,SAAST,EAAQU,EAAOJ,GACvd,aAGA,IAAIK,GACHC,OAAQ,0CACRC,WAAY,2BACZC,YAAa,kCACbC,UAAW,WACXC,cAAe,uBACfC,kBAAmB,gBAIhBC,EAFmBC,SAASC,cAAcT,EAAQ,sBAE5BU,WAEtBC,EAAYC,SAASC,eAAe,cAExCF,EAAUG,iBAAiB,WAAY,SAAUjC,GAEhD,GAAe,OADDA,EAAEkC,SAAWlC,EAAEmC,OACR,CACpB,IAAIC,EAAUN,EAAUO,MACxBC,IAAIC,OAAOC,QACVC,QAAS,gBACTC,SAAU,SAAkB9B,GAC3B,GAAIA,GAAQwB,EAAS,CAEpB,IAAIO,EAAOC,KAAKC,MAAMT,GAElBU,EAAUpB,EAAGqB,IAAI,qBAAuBnC,GAC5CkC,EAAQE,KAAK,QAAS,SAAUC,GAC1BA,EAASC,SAObZ,IAAIC,OAAOY,MAAM,wBANjBL,EAAQM,IAAIT,GAAMU,KAAK,SAAUC,GAChChB,IAAIC,OAAOY,MAAM,yBAA2BvC,KAC1C2C,MAAM,SAAUC,GAClBC,QAAQC,IAAIF,OAKZD,MAAM,SAAUC,GAClBC,QAAQE,MAAMH,sBAQT","file":"../upload.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\n// Initialize Firebase\nvar config = {\n\tapiKey: \"AIzaSyA9EYUXVL5WAh6Aam1qXlWyvi3b7HLcZ1U\",\n\tauthDomain: \"esigamma.firebaseapp.com\",\n\tdatabaseURL: \"https://esigamma.firebaseio.com\",\n\tprojectId: \"esigamma\",\n\tstorageBucket: \"esigamma.appspot.com\",\n\tmessagingSenderId: \"734163636039\"\n};\nvar FirebaseInstance = firebase.initializeApp(config, \"Davy Jones' Locker\");\n\nvar db = FirebaseInstance.database();\n\nvar dataInput = document.getElementById('input-data');\n\ndataInput.addEventListener('keypress', function (e) {\n\tvar keyCode = e.keyCode || e.which;\n\tif (keyCode == '13') {\n\t\tvar dataStr = dataInput.value;\n\t\tvex.dialog.prompt({\n\t\t\tmessage: \"Choose a Code\",\n\t\t\tcallback: function callback(code) {\n\t\t\t\tif (code && dataStr) {\n\n\t\t\t\t\tvar data = JSON.parse(dataStr);\n\n\t\t\t\t\tvar dataRef = db.ref('davy-jones-locker/' + code);\n\t\t\t\t\tdataRef.once('value', function (snapshot) {\n\t\t\t\t\t\tif (!snapshot.exists()) {\n\t\t\t\t\t\t\tdataRef.set(data).then(function (done) {\n\t\t\t\t\t\t\t\tvex.dialog.alert(\"Data saved with code: \" + code);\n\t\t\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tvex.dialog.alert(\"Code already in use.\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}).catch(function (err) {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n});\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvdXBsb2FkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTtBQUNBLElBQUksU0FBUztBQUNaLFNBQVEseUNBREk7QUFFWixhQUFZLDBCQUZBO0FBR1osY0FBYSxpQ0FIRDtBQUlaLFlBQVcsVUFKQztBQUtaLGdCQUFlLHNCQUxIO0FBTVosb0JBQW1CO0FBTlAsQ0FBYjtBQVFBLElBQUksbUJBQW1CLFNBQVMsYUFBVCxDQUF1QixNQUF2QixFQUErQixvQkFBL0IsQ0FBdkI7O0FBRUEsSUFBSSxLQUFLLGlCQUFpQixRQUFqQixFQUFUOztBQUVBLElBQUksWUFBWSxTQUFTLGNBQVQsQ0FBd0IsWUFBeEIsQ0FBaEI7O0FBRUEsVUFBVSxnQkFBVixDQUEyQixVQUEzQixFQUF1QyxVQUFDLENBQUQsRUFBTztBQUM3QyxLQUFJLFVBQVUsRUFBRSxPQUFGLElBQWEsRUFBRSxLQUE3QjtBQUNBLEtBQUksV0FBVyxJQUFmLEVBQW9CO0FBQ25CLE1BQUksVUFBVSxVQUFVLEtBQXhCO0FBQ0EsTUFBSSxNQUFKLENBQVcsTUFBWCxDQUFrQjtBQUNqQixZQUFTLGVBRFE7QUFFakIsYUFBVSxrQkFBQyxJQUFELEVBQVU7QUFDbkIsUUFBSSxRQUFRLE9BQVosRUFBcUI7O0FBRXBCLFNBQUksT0FBTyxLQUFLLEtBQUwsQ0FBVyxPQUFYLENBQVg7O0FBRUEsU0FBSSxVQUFVLEdBQUcsR0FBSCxDQUFPLHVCQUF1QixJQUE5QixDQUFkO0FBQ0EsYUFBUSxJQUFSLENBQWEsT0FBYixFQUFzQixVQUFDLFFBQUQsRUFBYztBQUNuQyxVQUFJLENBQUMsU0FBUyxNQUFULEVBQUwsRUFBd0I7QUFDdkIsZUFBUSxHQUFSLENBQVksSUFBWixFQUFrQixJQUFsQixDQUF1QixVQUFDLElBQUQsRUFBVTtBQUNoQyxZQUFJLE1BQUosQ0FBVyxLQUFYLENBQWlCLDJCQUEyQixJQUE1QztBQUNBLFFBRkQsRUFFRyxLQUZILENBRVMsVUFBQyxHQUFELEVBQVM7QUFDakIsZ0JBQVEsR0FBUixDQUFZLEdBQVo7QUFDQSxRQUpEO0FBS0EsT0FORCxNQU1PO0FBQ04sV0FBSSxNQUFKLENBQVcsS0FBWCxDQUFpQixzQkFBakI7QUFDQTtBQUNELE1BVkQsRUFVRyxLQVZILENBVVMsVUFBQyxHQUFELEVBQVM7QUFDakIsY0FBUSxLQUFSLENBQWMsR0FBZDtBQUNBLE1BWkQ7QUFjQTtBQUNEO0FBdkJnQixHQUFsQjtBQXlCQTtBQUNELENBOUJEIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vIEluaXRpYWxpemUgRmlyZWJhc2VcbnZhciBjb25maWcgPSB7XG5cdGFwaUtleTogXCJBSXphU3lBOUVZVVhWTDVXQWg2QWFtMXFYbFd5dmkzYjdITGNaMVVcIixcblx0YXV0aERvbWFpbjogXCJlc2lnYW1tYS5maXJlYmFzZWFwcC5jb21cIixcblx0ZGF0YWJhc2VVUkw6IFwiaHR0cHM6Ly9lc2lnYW1tYS5maXJlYmFzZWlvLmNvbVwiLFxuXHRwcm9qZWN0SWQ6IFwiZXNpZ2FtbWFcIixcblx0c3RvcmFnZUJ1Y2tldDogXCJlc2lnYW1tYS5hcHBzcG90LmNvbVwiLFxuXHRtZXNzYWdpbmdTZW5kZXJJZDogXCI3MzQxNjM2MzYwMzlcIlxufTtcbnZhciBGaXJlYmFzZUluc3RhbmNlID0gZmlyZWJhc2UuaW5pdGlhbGl6ZUFwcChjb25maWcsIFwiRGF2eSBKb25lcycgTG9ja2VyXCIpO1xuXG52YXIgZGIgPSBGaXJlYmFzZUluc3RhbmNlLmRhdGFiYXNlKCk7XG5cbmxldCBkYXRhSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQtZGF0YScpO1xuXG5kYXRhSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5cHJlc3MnLCAoZSkgPT4ge1xuXHRsZXQga2V5Q29kZSA9IGUua2V5Q29kZSB8fCBlLndoaWNoO1xuXHRpZiAoa2V5Q29kZSA9PSAnMTMnKXtcblx0XHRsZXQgZGF0YVN0ciA9IGRhdGFJbnB1dC52YWx1ZTtcblx0XHR2ZXguZGlhbG9nLnByb21wdCh7XG5cdFx0XHRtZXNzYWdlOiBcIkNob29zZSBhIENvZGVcIixcblx0XHRcdGNhbGxiYWNrOiAoY29kZSkgPT4ge1xuXHRcdFx0XHRpZiAoY29kZSAmJiBkYXRhU3RyKSB7XG5cblx0XHRcdFx0XHRsZXQgZGF0YSA9IEpTT04ucGFyc2UoZGF0YVN0cik7XG5cblx0XHRcdFx0XHRsZXQgZGF0YVJlZiA9IGRiLnJlZignZGF2eS1qb25lcy1sb2NrZXIvJyArIGNvZGUpO1xuXHRcdFx0XHRcdGRhdGFSZWYub25jZSgndmFsdWUnLCAoc25hcHNob3QpID0+IHtcblx0XHRcdFx0XHRcdGlmICghc25hcHNob3QuZXhpc3RzKCkpIHtcblx0XHRcdFx0XHRcdFx0ZGF0YVJlZi5zZXQoZGF0YSkudGhlbigoZG9uZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHZleC5kaWFsb2cuYWxlcnQoXCJEYXRhIHNhdmVkIHdpdGggY29kZTogXCIgKyBjb2RlKTtcblx0XHRcdFx0XHRcdFx0fSkuY2F0Y2goKGVycikgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dmV4LmRpYWxvZy5hbGVydChcIkNvZGUgYWxyZWFkeSBpbiB1c2UuXCIpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pLmNhdGNoKChlcnIpID0+IHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyKTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn0pOyJdfQ==\n"]}