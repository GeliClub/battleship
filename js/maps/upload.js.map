{"version":3,"sources":["upload.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","db","firebase","initializeApp","database","codeInput","document","getElementById","dataInput","addEventListener","value","dataStr","data","JSON","parse","dataRef","ref","once","snapshot","exists","window","alert","set","then","done","catch","err","console","log","error"],"mappings":"CAAA,SAAUA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATC,SAAqBA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,KAAK,MAAMK,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEX,EAAEG,IAAIS,YAAYb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAkD,IAAI,IAA1CL,EAAkB,mBAATD,SAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAAvb,EAA4ba,GAAG,SAAST,EAAQU,EAAOJ,GACvd,aAGA,IAAIK,GACHC,OAAQ,0CACRC,WAAY,2BACZC,YAAa,kCACbC,UAAW,WACXC,cAAe,uBACfC,kBAAmB,gBAIhBC,EAFmBC,SAASC,cAAcT,EAAQ,sBAE5BU,WAEtBC,EAAYC,SAASC,eAAe,cACpCC,EAAYF,SAASC,eAAe,cACrBD,SAASC,eAAe,UAE9BE,iBAAiB,QAAS,SAAUlC,GAEhD,IAAIY,EAAOkB,EAAUK,MACjBC,EAAUH,EAAUE,MAExB,GAAIvB,GAAQwB,EAAS,CAEpB,IAAIC,EAAOC,KAAKC,MAAMH,GAElBI,EAAUd,EAAGe,IAAI,qBAAuB7B,GAC5C4B,EAAQE,KAAK,QAAS,SAAUC,GAC1BA,EAASC,SAObC,OAAOC,MAAM,wBANbN,EAAQO,IAAIV,GAAMW,KAAK,SAAUC,GAChCJ,OAAOC,MAAM,yBAA2BlC,KACtCsC,MAAM,SAAUC,GAClBC,QAAQC,IAAIF,OAKZD,MAAM,SAAUC,GAClBC,QAAQE,MAAMH,kBAKN","file":"../upload.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\n// Initialize Firebase\nvar config = {\n\tapiKey: \"AIzaSyA9EYUXVL5WAh6Aam1qXlWyvi3b7HLcZ1U\",\n\tauthDomain: \"esigamma.firebaseapp.com\",\n\tdatabaseURL: \"https://esigamma.firebaseio.com\",\n\tprojectId: \"esigamma\",\n\tstorageBucket: \"esigamma.appspot.com\",\n\tmessagingSenderId: \"734163636039\"\n};\nvar FirebaseInstance = firebase.initializeApp(config, \"Davy Jones' Locker\");\n\nvar db = FirebaseInstance.database();\n\nvar codeInput = document.getElementById('input-code');\nvar dataInput = document.getElementById('input-data');\nvar submitButton = document.getElementById('submit');\n\nsubmitButton.addEventListener('click', function (e) {\n\n\tvar code = codeInput.value;\n\tvar dataStr = dataInput.value;\n\n\tif (code && dataStr) {\n\n\t\tvar data = JSON.parse(dataStr);\n\n\t\tvar dataRef = db.ref('davy-jones-locker/' + code);\n\t\tdataRef.once('value', function (snapshot) {\n\t\t\tif (!snapshot.exists()) {\n\t\t\t\tdataRef.set(data).then(function (done) {\n\t\t\t\t\twindow.alert(\"Data saved with code: \" + code);\n\t\t\t\t}).catch(function (err) {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\twindow.alert(\"Code already in use.\");\n\t\t\t}\n\t\t}).catch(function (err) {\n\t\t\tconsole.error(err);\n\t\t});\n\t}\n});\n\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvdXBsb2FkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTtBQUNBLElBQUksU0FBUztBQUNaLFNBQVEseUNBREk7QUFFWixhQUFZLDBCQUZBO0FBR1osY0FBYSxpQ0FIRDtBQUlaLFlBQVcsVUFKQztBQUtaLGdCQUFlLHNCQUxIO0FBTVosb0JBQW1CO0FBTlAsQ0FBYjtBQVFBLElBQUksbUJBQW1CLFNBQVMsYUFBVCxDQUF1QixNQUF2QixFQUErQixvQkFBL0IsQ0FBdkI7O0FBRUEsSUFBSSxLQUFLLGlCQUFpQixRQUFqQixFQUFUOztBQUVBLElBQUksWUFBWSxTQUFTLGNBQVQsQ0FBd0IsWUFBeEIsQ0FBaEI7QUFDQSxJQUFJLFlBQVksU0FBUyxjQUFULENBQXdCLFlBQXhCLENBQWhCO0FBQ0EsSUFBSSxlQUFlLFNBQVMsY0FBVCxDQUF3QixRQUF4QixDQUFuQjs7QUFFQSxhQUFhLGdCQUFiLENBQThCLE9BQTlCLEVBQXVDLFVBQUMsQ0FBRCxFQUFPOztBQUU3QyxLQUFJLE9BQU8sVUFBVSxLQUFyQjtBQUNBLEtBQUksVUFBVSxVQUFVLEtBQXhCOztBQUVBLEtBQUksUUFBUSxPQUFaLEVBQXFCOztBQUVwQixNQUFJLE9BQU8sS0FBSyxLQUFMLENBQVcsT0FBWCxDQUFYOztBQUVBLE1BQUksVUFBVSxHQUFHLEdBQUgsQ0FBTyx1QkFBdUIsSUFBOUIsQ0FBZDtBQUNBLFVBQVEsSUFBUixDQUFhLE9BQWIsRUFBc0IsVUFBQyxRQUFELEVBQWM7QUFDbkMsT0FBSSxDQUFDLFNBQVMsTUFBVCxFQUFMLEVBQXdCO0FBQ3ZCLFlBQVEsR0FBUixDQUFZLElBQVosRUFBa0IsSUFBbEIsQ0FBdUIsVUFBQyxJQUFELEVBQVU7QUFDaEMsWUFBTyxLQUFQLENBQWEsMkJBQTJCLElBQXhDO0FBQ0EsS0FGRCxFQUVHLEtBRkgsQ0FFUyxVQUFDLEdBQUQsRUFBUztBQUNqQixhQUFRLEdBQVIsQ0FBWSxHQUFaO0FBQ0EsS0FKRDtBQUtBLElBTkQsTUFNTztBQUNOLFdBQU8sS0FBUCxDQUFhLHNCQUFiO0FBQ0E7QUFDRCxHQVZELEVBVUcsS0FWSCxDQVVTLFVBQUMsR0FBRCxFQUFTO0FBQ2pCLFdBQVEsS0FBUixDQUFjLEdBQWQ7QUFDQSxHQVpEO0FBY0E7QUFFRCxDQTFCRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvLyBJbml0aWFsaXplIEZpcmViYXNlXG52YXIgY29uZmlnID0ge1xuXHRhcGlLZXk6IFwiQUl6YVN5QTlFWVVYVkw1V0FoNkFhbTFxWGxXeXZpM2I3SExjWjFVXCIsXG5cdGF1dGhEb21haW46IFwiZXNpZ2FtbWEuZmlyZWJhc2VhcHAuY29tXCIsXG5cdGRhdGFiYXNlVVJMOiBcImh0dHBzOi8vZXNpZ2FtbWEuZmlyZWJhc2Vpby5jb21cIixcblx0cHJvamVjdElkOiBcImVzaWdhbW1hXCIsXG5cdHN0b3JhZ2VCdWNrZXQ6IFwiZXNpZ2FtbWEuYXBwc3BvdC5jb21cIixcblx0bWVzc2FnaW5nU2VuZGVySWQ6IFwiNzM0MTYzNjM2MDM5XCJcbn07XG52YXIgRmlyZWJhc2VJbnN0YW5jZSA9IGZpcmViYXNlLmluaXRpYWxpemVBcHAoY29uZmlnLCBcIkRhdnkgSm9uZXMnIExvY2tlclwiKTtcblxudmFyIGRiID0gRmlyZWJhc2VJbnN0YW5jZS5kYXRhYmFzZSgpO1xuXG5sZXQgY29kZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0LWNvZGUnKTtcbmxldCBkYXRhSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQtZGF0YScpO1xubGV0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdWJtaXQnKTtcblxuc3VibWl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcblxuXHRsZXQgY29kZSA9IGNvZGVJbnB1dC52YWx1ZTtcblx0bGV0IGRhdGFTdHIgPSBkYXRhSW5wdXQudmFsdWU7XG5cblx0aWYgKGNvZGUgJiYgZGF0YVN0cikge1xuXG5cdFx0bGV0IGRhdGEgPSBKU09OLnBhcnNlKGRhdGFTdHIpO1xuXG5cdFx0bGV0IGRhdGFSZWYgPSBkYi5yZWYoJ2Rhdnktam9uZXMtbG9ja2VyLycgKyBjb2RlKTtcblx0XHRkYXRhUmVmLm9uY2UoJ3ZhbHVlJywgKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRpZiAoIXNuYXBzaG90LmV4aXN0cygpKSB7XG5cdFx0XHRcdGRhdGFSZWYuc2V0KGRhdGEpLnRoZW4oKGRvbmUpID0+IHtcblx0XHRcdFx0XHR3aW5kb3cuYWxlcnQoXCJEYXRhIHNhdmVkIHdpdGggY29kZTogXCIgKyBjb2RlKTtcblx0XHRcdFx0fSkuY2F0Y2goKGVycikgPT4ge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2luZG93LmFsZXJ0KFwiQ29kZSBhbHJlYWR5IGluIHVzZS5cIik7XG5cdFx0XHR9XG5cdFx0fSkuY2F0Y2goKGVycikgPT4ge1xuXHRcdFx0Y29uc29sZS5lcnJvcihlcnIpO1xuXHRcdH0pO1xuXG5cdH1cblxufSk7Il19\n"]}